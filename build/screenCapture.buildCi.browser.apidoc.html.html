<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://github.com/stevelacy/gulp-git">gulp-git (v2.1.0)</a>
</h1>
<h4>Git plugin for gulp (gulpjs.com)</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.gulp-git">module gulp-git</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.add">
            function <span class="apidocSignatureSpan">gulp-git.</span>add
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.addRemote">
            function <span class="apidocSignatureSpan">gulp-git.</span>addRemote
            <span class="apidocSignatureSpan">(remote, url, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.addSubmodule">
            function <span class="apidocSignatureSpan">gulp-git.</span>addSubmodule
            <span class="apidocSignatureSpan">(url, name, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.branch">
            function <span class="apidocSignatureSpan">gulp-git.</span>branch
            <span class="apidocSignatureSpan">(branch, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.catFile">
            function <span class="apidocSignatureSpan">gulp-git.</span>catFile
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.checkout">
            function <span class="apidocSignatureSpan">gulp-git.</span>checkout
            <span class="apidocSignatureSpan">(branch, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.checkoutFiles">
            function <span class="apidocSignatureSpan">gulp-git.</span>checkoutFiles
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.clean">
            function <span class="apidocSignatureSpan">gulp-git.</span>clean
            <span class="apidocSignatureSpan">(paths, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.clone">
            function <span class="apidocSignatureSpan">gulp-git.</span>clone
            <span class="apidocSignatureSpan">(remote, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.commit">
            function <span class="apidocSignatureSpan">gulp-git.</span>commit
            <span class="apidocSignatureSpan">(message, opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.diff">
            function <span class="apidocSignatureSpan">gulp-git.</span>diff
            <span class="apidocSignatureSpan">(compare, opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.exec">
            function <span class="apidocSignatureSpan">gulp-git.</span>exec
            <span class="apidocSignatureSpan">(opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.fetch">
            function <span class="apidocSignatureSpan">gulp-git.</span>fetch
            <span class="apidocSignatureSpan">(remote, branch, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.init">
            function <span class="apidocSignatureSpan">gulp-git.</span>init
            <span class="apidocSignatureSpan">(opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.merge">
            function <span class="apidocSignatureSpan">gulp-git.</span>merge
            <span class="apidocSignatureSpan">(branch, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.pull">
            function <span class="apidocSignatureSpan">gulp-git.</span>pull
            <span class="apidocSignatureSpan">(remote, branch, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.push">
            function <span class="apidocSignatureSpan">gulp-git.</span>push
            <span class="apidocSignatureSpan">(remote, branch, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.removeRemote">
            function <span class="apidocSignatureSpan">gulp-git.</span>removeRemote
            <span class="apidocSignatureSpan">(remote, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.reset">
            function <span class="apidocSignatureSpan">gulp-git.</span>reset
            <span class="apidocSignatureSpan">(commit, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.revParse">
            function <span class="apidocSignatureSpan">gulp-git.</span>revParse
            <span class="apidocSignatureSpan">(opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.rm">
            function <span class="apidocSignatureSpan">gulp-git.</span>rm
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.stash">
            function <span class="apidocSignatureSpan">gulp-git.</span>stash
            <span class="apidocSignatureSpan">(opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.status">
            function <span class="apidocSignatureSpan">gulp-git.</span>status
            <span class="apidocSignatureSpan">(opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.tag">
            function <span class="apidocSignatureSpan">gulp-git.</span>tag
            <span class="apidocSignatureSpan">(version, message, opt, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gulp-git.updateSubmodule">
            function <span class="apidocSignatureSpan">gulp-git.</span>updateSubmodule
            <span class="apidocSignatureSpan">(opt, cb)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.gulp-git" id="apidoc.module.gulp-git">module gulp-git</a></h1>


    <h2>
        <a href="#apidoc.element.gulp-git.add" id="apidoc.element.gulp-git.add">
        function <span class="apidocSignatureSpan">gulp-git.</span>add
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (opt) {
  if (!opt) opt = {};
  if (!opt.args) opt.args = ' ';

  var paths = [];
  var files = [];
  var fileCwd = process.cwd;

  var write = function(file, enc, cb) {
    paths.push(file.path);
    files.push(file);
    fileCwd = file.cwd;
    cb();
  };

  var flush = function(cb) {
    var cwd = opt.cwd || fileCwd;

    var cmd = 'git add ' + escape(paths) + ' ' + opt.args;
    var that = this;
    var maxBuffer = opt.maxBuffer || 200 * 1024;

    exec(cmd, {cwd: cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
      if (err) cb(err);
      if (!opt.quiet) gutil.log(stdout, stderr);
      files.forEach(that.push.bind(that));
      that.emit('end');
      cb();
    });
  };

  return through.obj(write, flush);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
});

// Run git add
// src is the file(s) to add (or ./*)
gulp.task('add', function(){
  return gulp.src('./git-test/*')
    .pipe(git.<span class="apidocCodeKeywordSpan">add</span>());
});

// Run git add with options
gulp.task('add', function(){
  return gulp.src('./git-test/*')
    .pipe(git.add({args: '-f -i -p'}));
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.addRemote" id="apidoc.element.gulp-git.addRemote">
        function <span class="apidocSignatureSpan">gulp-git.</span>addRemote
        <span class="apidocSignatureSpan">(remote, url, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addRemote = function (remote, url, opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!url) cb(new Error('gulp-git: Repo URL is required git.addRemote("origin", "https://github.com/user/repo.git")'));
  if (!remote) remote = 'origin';
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git remote add ' + opt.args + ' ' + escape([remote, url]);
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
});

// Run git remote add
// remote is the remote repo
// repo is the https url of the repo
gulp.task('addremote', function(){
  git.<span class="apidocCodeKeywordSpan">addRemote</span>('origin', 'https://github.com/stevelacy/git-test',
function (err) {
    if (err) throw err;
  });
});

// Run git remote remove
// remote is the remote repo
gulp.task('removeremote', function(){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.addSubmodule" id="apidoc.element.gulp-git.addSubmodule">
        function <span class="apidocSignatureSpan">gulp-git.</span>addSubmodule
        <span class="apidocSignatureSpan">(url, name, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addSubmodule = function (url, name, opt, cb) {
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!url) cb(new Error('gulp-git: Repo URL is required git.submodule.add("https://github.com/user/repo.git", "repoName")'));
  if (!name) name = '';
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = '';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git submodule add ' + opt.args + ' ' + url + ' ' + name;
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err &amp;&amp; cb) cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    if (cb) cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Git rm a file or folder
gulp.task('rm', function(){
  return gulp.src('./gruntfile.js')
    .pipe(git.rm());
});

gulp.task('addSubmodule', function(){
  git.<span class="apidocCodeKeywordSpan">addSubmodule</span>('https://github.com/stevelacy/git-test', 'git-test&amp;#
x27;, { args: '-b master'});
});

gulp.task('updateSubmodules', function(){
  git.updateSubmodule({ args: '--init' });
});

// Working tree status
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.branch" id="apidoc.element.gulp-git.branch">
        function <span class="apidocSignatureSpan">gulp-git.</span>branch
        <span class="apidocSignatureSpan">(branch, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">branch = function (branch, opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!branch) return cb(new Error('gulp-git: Branch name is required git.branch("name")'));
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git branch ' + opt.args + ' ' + escape([branch]);
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
git.tag('v1.1.1', 'Version message with signed key', {signed: true}, function (err) {
  if (err) throw err;
});
});

// Create a git branch
gulp.task('branch', function(){
git.<span class="apidocCodeKeywordSpan">branch</span>('newBranch', function (err) {
  if (err) throw err;
});
});

// Checkout a git branch
gulp.task('checkout', function(){
git.checkout('branchName', function (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.catFile" id="apidoc.element.gulp-git.catFile">
        function <span class="apidocSignatureSpan">gulp-git.</span>catFile
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catFile = function (opt) {
  if (!opt) opt = {};
  if (undefined === opt.stripBOM || null === opt.stripBOM) opt.stripBOM = true;
  if (undefined === opt.buffer || null === opt.buffer) opt.buffer = true;

<span class="apidocCodeCommentSpan">  /**
   * transform function of stream {@link https://nodejs.org/docs/latest/api/stream.html#stream_transform_transform_chunk_encoding_callback
}
   *
   * @param {vinyl}    file The file to be transformed.
   * @param {any}      enc  encoding type.
   * @param {function} cb   A callback function (optionally with an error argument and data) to be called after the supplied `file
` has been processed.
   * @returns {void}
   */
</span>  var write = function(file, enc, cb) {

    var hash = file.git &amp;&amp; file.git.hash;

    /**
     * set file contents and send file to stream
     *
     * @param {Buffer} contents file contents
     * @returns {void}
     */
    var sendFile = function(contents) {
      if (contents) {
        file.contents = contents;
      }
      return cb(null, file);
    };

    if (!hash || /^0+$/.test(hash)) {
      return sendFile();
    }

    var catFile = spawn('git', ['cat-file', 'blob', hash], {
      cwd: file.cwd
    });

    var contents = catFile.stdout;
    var that = this;

    readStream(catFile.stderr, function(error) {
      that.emit('error', new gutil.PluginError('gulp-git', 'Command failed: ' + catFile.spawnargs.join(' ').trim() + '\n' + error
.toString()));
    });

    if (opt.stripBOM) {
      contents = contents.pipe(stripBom());
    }

    if (opt.buffer) {
      readStream(contents, sendFile);
    } else {
      sendFile(contents);
    }
  };
  var stream = through.obj(write);
  return stream;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.checkout" id="apidoc.element.gulp-git.checkout">
        function <span class="apidocSignatureSpan">gulp-git.</span>checkout
        <span class="apidocSignatureSpan">(branch, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkout = function (branch, opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!branch) throw new Error('gulp-git: Branch name is require git.checkout("name")');
  if (!opt.args) opt.args = ' ';
  if (!opt.cwd) opt.cwd = process.cwd();

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git checkout ' + opt.args + ' ' + escape([branch]);
  exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb(null);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
git.branch('newBranch', function (err) {
  if (err) throw err;
});
});

// Checkout a git branch
gulp.task('checkout', function(){
git.<span class="apidocCodeKeywordSpan">checkout</span>('branchName', function (err) {
  if (err) throw err;
});
});

// Create and switch to a git branch
gulp.task('checkout', function(){
git.checkout('branchName', {args:'-b'}, function (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.checkoutFiles" id="apidoc.element.gulp-git.checkoutFiles">
        function <span class="apidocSignatureSpan">gulp-git.</span>checkoutFiles
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkoutFiles = function (opt) {
  if (!opt) opt = {};
  if (!opt.args) opt.args = ' ';

  function checkout(file, enc, cb) {
    var that = this;
    var cmd = 'git checkout ' + opt.args + ' ' + escape([file.path]);
    if (!cb || typeof cb !== 'function') cb = function () {};

    var maxBuffer = opt.maxBuffer || 200 * 1024;

    exec(cmd, {cwd: file.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
      if (err) return cb(err);
      if (!opt.quiet) gutil.log(stdout, stderr);
      that.push(file);
      cb(null);
    });
  }

  // Return a stream
  return through.obj(checkout);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
```

If you want to checkout files (e.g. revert them) use git.checkoutFiles:

```js
gulp.src('./*')
  .pipe(git.<span class="apidocCodeKeywordSpan">checkoutFiles</span>());
```

### git.checkoutFiles(opt)
`git checkout &lt;list of files&gt;`

Checkout (e.g. reset) files
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.clean" id="apidoc.element.gulp-git.clean">
        function <span class="apidocSignatureSpan">gulp-git.</span>clean
        <span class="apidocSignatureSpan">(paths, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clean = function (paths, opt, cb) {
  if (!cb) {
    if (typeof opt === 'function') {
      // passed in 2 arguments
      cb = opt;
      if (typeof paths === 'object') {
        opt = paths;
        paths = '';
      }
      else opt = {};
    }
    else {
      // passed in only cb
      cb = paths;
      paths = '';
      opt = {};
    }
  }

  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var cmd = 'git clean ' + opt.args + ' ' + (paths.trim() ? (' -- ' + escape(paths)) : '');

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  return exec(cmd, { cwd: opt.cwd, maxBuffer: maxBuffer }, function (err, stdout, stderr) {
    if (err)
      return cb(err);
    if (!opt.quiet)
      gutil.log(stdout, stderr);
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  git.exec({args : 'log --follow index.js'}, function (err, stdout) {
    if (err) throw err;
  });
});

// Git clean files
gulp.task('clean', function() {
  git.<span class="apidocCodeKeywordSpan">clean</span>({ args: '-f' }, function (err) {
    if(err) throw err;
  });
});

// Run gulp's default task
gulp.task('default',['add']);
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.clone" id="apidoc.element.gulp-git.clone">
        function <span class="apidocSignatureSpan">gulp-git.</span>clone
        <span class="apidocSignatureSpan">(remote, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function (remote, opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git clone ' + escape([remote]) + ' ' + opt.args;
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
git.fetch('origin', '', function (err) {
  if (err) throw err;
});
});

// Clone a remote repo
gulp.task('clone', function(){
git.<span class="apidocCodeKeywordSpan">clone</span>('https://github.com/stevelacy/gulp-git', function (err) {
  if (err) throw err;
});
});

// Clone remote repo to sub folder ($CWD/sub/folder/git-test)
gulp.task('clonesub', function() {
git.clone('https://github.com/stevelacy/git-test', {args: './sub/folder'}, function(err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.commit" id="apidoc.element.gulp-git.commit">
        function <span class="apidocSignatureSpan">gulp-git.</span>commit
        <span class="apidocSignatureSpan">(message, opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">commit = function (message, opt) {
  if (!opt) opt = {};
  if (!message || message.length === 0) {
    if (opt.args.indexOf('--amend') === -1 &amp;&amp; opt.disableMessageRequirement !== true) {
      throw new Error('gulp-git: Commit message is required git.commit("commit message") or --amend arg must be given');
    }
  }
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.maxBuffer) opt.maxBuffer = 200 * 1024; // Default buffer value for child_process.exec
  if (!opt.args) opt.args = ' ';

  var files = [];
  var paths = [];

  var write = function(file, enc, cb) {
    files.push(file);
    paths.push(path.relative(opt.cwd, file.path).replace('\\', '/'));
    cb();
  };

  var messageEntry = function(entry) {
    return '-m "' + entry + '" ';
  };

  var flush = function(cb) {
    var writeStdin = false;
    var cmd = 'git commit ';

    if (message &amp;&amp; opt.args.indexOf('--amend') === -1) {

      // Check if the message is multiline
      if (message &amp;&amp; message instanceof Array) {

        if (opt.multiline) {
          writeStdin = true;
          message = message.join('\n');
        } else {
          var messageExpanded = '';

          // repeat -m as needed
          for (var i = 0; i &lt; message.length; i++) {
            messageExpanded += messageEntry(message[i]);
          }
          cmd += messageExpanded + opt.args;
        }
        if (!opt.disableAppendPaths) {
          cmd += ' ' + escape(paths);
        }
      } else {
        if (~message.indexOf('\n')) {
          writeStdin = true;
        } else {
          cmd += '-m "' + message + '" ' + opt.args;
        }
        if (!opt.disableAppendPaths) {
          cmd += ' ' + escape(paths);
        }
      }
    } else if (opt.disableMessageRequirement === true) {
      cmd += opt.args;
    } else {
      // When amending, just add the file automatically and do not include the message not the file.
      // Also, add all the files and avoid lauching the editor (even if --no-editor was added)
      cmd += '-a ' + opt.args + (opt.args.indexOf('--no-edit') === -1 ? ' --no-edit' : '');
    }
    var self = this;

    // If `message` was an array and `opt.multiline` was true
    // or was a string containing newlines, we append '-F -'
    if (writeStdin) {
      cmd += ' -F -';
    }

    var execChildProcess = exec(cmd, opt, function(err, stdout, stderr) {
      if (err &amp;&amp; (String(stdout).indexOf('no changes added to commit') === 0)) return cb(err);
      if (!opt.quiet) gutil.log(stdout, stderr);
      files.forEach(self.push.bind(self));
      self.emit('end');
      return cb();
    });

    if (writeStdin) {
      execChildProcess.stdin.write(message);
      execChildProcess.stdin.end();
    }

    // If the user wants, we'll emit data events during exec
    // they can listen to them with .on('data',function(data){ });
    // in their task
    if (opt.emitData) {
      execChildProcess.stdout.on('data', function(data) {
        self.emit('data', data);
      });
      execChildProcess.stderr.on('data', function(data) {
        self.emit('data', data);
      });
    }
  };

  return through.obj(write, flush);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    .pipe(git.add({args: '-f -i -p'}));
});

// Run git commit
// src are the files to commit (or ./*)
gulp.task('commit', function(){
  return gulp.src('./git-test/*')
    .pipe(git.<span class="apidocCodeKeywordSpan">commit</span>('initial commit'));
});

// Run git commit with options
gulp.task('commit', function(){
  return gulp.src('./git-test/*')
    .pipe(git.commit('initial commit', {args: '-A --amend -s'}));
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.diff" id="apidoc.element.gulp-git.diff">
        function <span class="apidocSignatureSpan">gulp-git.</span>diff
        <span class="apidocSignatureSpan">(compare, opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">diff = function (compare, opt) {
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  // https://github.com/gulpjs/vinyl-fs#optionsread
  if (undefined === opt.read || null === opt.read) opt.read = true;
  if (undefined === opt.log || null === opt.log) opt.log = true;

  var srcStream = through.obj();
  var cmd = compare;

  if (!/--diff-filter=/.test(opt.args)) {
    cmd += ' --diff-filter=ACM';
  }
  if (opt.args) {
    cmd += ' ' + opt.args;
  }
  exec('git diff --raw -z ' + cmd, {cwd: opt.cwd}, function(err, stdout) {
    if (err) return srcStream.emit('error', err);
    var files = getReaslt(stdout);

    if (opt.log) {
      gutil.log('git diff --name-status ' + cmd + '\n' + files.map(function(diff) {
        return diff.status + '\t' + diff.dstPath;
      }).join('\n'));
    }

    files.forEach(function(diff) {
      srcStream.write(new Vinyl({
        path: path.resolve(opt.cwd, diff.dstPath),
        cwd: opt.cwd,
        base: opt.base,
        git: {
          hash: diff.dstHash,
          diff: diff
        }
      }));
    });
    srcStream.end();
  });

  if (opt.read) {
    // read file contents when opt.read is `true`
    return srcStream.pipe(catFile(opt));
  }

  return srcStream;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.exec" id="apidoc.element.gulp-git.exec">
        function <span class="apidocSignatureSpan">gulp-git.</span>exec
        <span class="apidocSignatureSpan">(opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = { };
  if (!opt.log) opt.log = !cb;
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.maxBuffer) opt.maxBuffer = 200 * 1024; // Default buffer value for child_process.exec

  if (!opt.args) opt.args = ' ';

  var cmd = 'git ' + opt.args;
  return exec(cmd, {cwd : opt.cwd, maxBuffer: opt.maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err, stderr);
    if (opt.log &amp;&amp; !opt.quiet) gutil.log(cmd + '\n' + stdout, stderr);
    else {
      if (!opt.quiet) gutil.log(cmd + ' (log : false)', stderr);
    }
    cb(err, stdout);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
git.status({args: '--porcelain'}, function (err, stdout) {
  if (err) throw err;
});
});

// Other actions that do not require a Vinyl
gulp.task('log', function(){
git.<span class="apidocCodeKeywordSpan">exec</span>({args : 'log --follow index.js'}, function (err, stdout) {
  if (err) throw err;
});
});

// Git clean files
gulp.task('clean', function() {
git.clean({ args: '-f' }, function (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.fetch" id="apidoc.element.gulp-git.fetch">
        function <span class="apidocSignatureSpan">gulp-git.</span>fetch
        <span class="apidocSignatureSpan">(remote, branch, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetch = function (remote, branch, opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!branch) branch = '';
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';
  if (!remote &amp;&amp; opt.args.indexOf('--all') === -1) remote = 'origin';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git fetch ' + opt.args;
  var args = [];
  if (remote)
    args.push(remote);
  if (branch)
    args = args.concat(branch);
  if (args.length &gt; 0)
    cmd += escape(args);
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (err) throw err;
  });
});

// Run git fetch
// Fetch refs from all remotes
gulp.task('fetch', function(){
  git.<span class="apidocCodeKeywordSpan">fetch</span>('', '', {args: '--all'}, function (err) {
    if (err) throw err;
  });
});

// Run git fetch
// Fetch refs from origin
gulp.task('fetch', function(){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.init" id="apidoc.element.gulp-git.init">
        function <span class="apidocSignatureSpan">gulp-git.</span>init
        <span class="apidocSignatureSpan">(opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git init ' + opt.args;
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb();
  });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
var gulp = require('gulp');
var git = require('gulp-git');

// Run git init
// src is the root folder for git to initialize
gulp.task('init', function(){
git.<span class="apidocCodeKeywordSpan">init</span>(function (err) {
  if (err) throw err;
});
});

// Run git init with options
gulp.task('init', function(){
git.init({args: '--quiet --bare'}, function (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.merge" id="apidoc.element.gulp-git.merge">
        function <span class="apidocSignatureSpan">gulp-git.</span>merge
        <span class="apidocSignatureSpan">(branch, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">merge = function (branch, opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!branch) return cb &amp;&amp; cb(new Error('gulp-git: Branch name is require git.merge("name")'));
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git merge ' + opt.args + ' ' + escape([branch]);
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
git.checkout('branchName', {args:'-b'}, function (err) {
  if (err) throw err;
});
});

// Merge branches to master
gulp.task('merge', function(){
git.<span class="apidocCodeKeywordSpan">merge</span>('branchName', function (err) {
  if (err) throw err;
});
});

// Reset a commit
gulp.task('reset', function(){
git.reset('SHA', function (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.pull" id="apidoc.element.gulp-git.pull">
        function <span class="apidocSignatureSpan">gulp-git.</span>pull
        <span class="apidocSignatureSpan">(remote, branch, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pull = function (remote, branch, opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var cmd = 'git pull ' + opt.args;
  if (typeof remote === 'string') {
    cmd += ' ' + escape(remote);
  }
  if (branch &amp;&amp; typeof branch === 'string' || branch &amp;&amp; branch[0]) {
    cmd +=  ' ' + escape([].concat(branch));
  }
  var maxBuffer = opt.maxBuffer || 200 * 1024;

  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
});

// Run git pull
// remote is the remote repo
// branch is the remote branch to pull from
gulp.task('pull', function(){
git.<span class="apidocCodeKeywordSpan">pull</span>('origin', 'master', {args: '--rebase'}, function
 (err) {
  if (err) throw err;
});
});

// Run git pull from multiple branches
gulp.task('pull', function(){
git.pull('origin', ['master', 'develop'], function (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.push" id="apidoc.element.gulp-git.push">
        function <span class="apidocSignatureSpan">gulp-git.</span>push
        <span class="apidocSignatureSpan">(remote, branch, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">push = function (remote, branch, opt, cb) {

  if (!remote) remote = 'origin';
  if (branch === null) {
    branch = '';
  } else if (!branch) {
    branch = 'master';
  }
  if (!cb &amp;&amp; typeof opt === 'function') {
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var cmd = 'git push ' + escape([].concat(remote, branch)) + ' ' + opt.args;
  var maxBuffer = opt.maxBuffer || 200 * 1024;

  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
});

// Run git push
// remote is the remote repo
// branch is the remote branch to push to
gulp.task('push', function(){
  git.<span class="apidocCodeKeywordSpan">push</span>('origin', 'master', function (err) {
    if (err) throw err;
  });
});

// Run git push with options
// branch is the remote branch to push to
gulp.task('push', function(){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.removeRemote" id="apidoc.element.gulp-git.removeRemote">
        function <span class="apidocSignatureSpan">gulp-git.</span>removeRemote
        <span class="apidocSignatureSpan">(remote, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeRemote = function (remote, opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!remote) cb(new Error('gulp-git: remote is required git.removeRemote("origin")'));
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git remote remove ' + opt.args + ' ' + escape([remote]);
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (err) throw err;
  });
});

// Run git remote remove
// remote is the remote repo
gulp.task('removeremote', function(){
  git.<span class="apidocCodeKeywordSpan">removeRemote</span>('origin', function (err) {
    if (err) throw err;
  });
});

// Run git push
// remote is the remote repo
// branch is the remote branch to push to
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.reset" id="apidoc.element.gulp-git.reset">
        function <span class="apidocSignatureSpan">gulp-git.</span>reset
        <span class="apidocSignatureSpan">(commit, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function (commit, opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';
  if (!commit) commit = ' ';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git reset ' + opt.args + ' ' + escape([commit]);
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb();
  });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
git.merge('branchName', function (err) {
  if (err) throw err;
});
});

// Reset a commit
gulp.task('reset', function(){
git.<span class="apidocCodeKeywordSpan">reset</span>('SHA', function (err) {
  if (err) throw err;
});
});

// Git rm a file or folder
gulp.task('rm', function(){
return gulp.src('./gruntfile.js')
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.revParse" id="apidoc.element.gulp-git.revParse">
        function <span class="apidocSignatureSpan">gulp-git.</span>revParse
        <span class="apidocSignatureSpan">(opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">revParse = function (opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!opt.args) opt.args = ' '; // it will likely not give you what you want
  if (!opt.cwd) opt.cwd = process.cwd();

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git rev-parse ' + opt.args;
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (stdout) stdout = stdout.trim(); // Trim trailing cr-lf
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb(err, stdout); // return stdout to the user
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```js
git.reset('HEAD' {args:'--hard'}, function (err) {
  //if (err) ...
});
```

### git.<span class="apidocCodeKeywordSpan">revParse</span>(opt, cb)
`git rev-parse &lt;options&gt;`

Get details about the repository

`opt`: Object (optional) `{args: 'options', cwd: '/cwd/path', quiet: true, maxBuffer: 200 * 1024}`

`cb`: function, passed err if any and command stdout
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.rm" id="apidoc.element.gulp-git.rm">
        function <span class="apidocSignatureSpan">gulp-git.</span>rm
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rm = function (opt) {
  if (!opt) opt = {};
  if (!opt.args) opt.args = ' ';

  var paths = [];
  var files = [];
  var fileCwd = process.cwd;
  var write = function(file, enc, cb) {
    paths.push(file.path);
    files.push(file);
    fileCwd = file.cwd;
    cb();
  };

  var flush = function(cb) {
    var cwd = opt.cwd || fileCwd;

    var maxBuffer = opt.maxBuffer || 200 * 1024;

    var cmd = 'git rm ' + escape(paths) + ' ' + opt.args;
    var that = this;
    exec(cmd, {cwd: cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
      if (err) cb(err);
      if (!opt.quiet) gutil.log(stdout, stderr);
      files.forEach(that.push.bind(that));
      cb();
    });
  };

  return through.obj(write, flush);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (err) throw err;
  });
});

// Git rm a file or folder
gulp.task('rm', function(){
  return gulp.src('./gruntfile.js')
    .pipe(git.<span class="apidocCodeKeywordSpan">rm</span>());
});

gulp.task('addSubmodule', function(){
  git.addSubmodule('https://github.com/stevelacy/git-test', 'git-test', { args: '-b master'});
});

gulp.task('updateSubmodules', function(){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.stash" id="apidoc.element.gulp-git.stash">
        function <span class="apidocSignatureSpan">gulp-git.</span>stash
        <span class="apidocSignatureSpan">(opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stash = function (opt, cb) {

  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }

  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!opt.args) opt.args = 'save --include-untracked "gulp-stash"';
  if (!opt.cwd) opt.cwd = process.cwd();

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git stash ' + opt.args;
  exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    cb(null);
  });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.status" id="apidoc.element.gulp-git.status">
        function <span class="apidocSignatureSpan">gulp-git.</span>status
        <span class="apidocSignatureSpan">(opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">status = function (opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';
  if (!opt.maxBuffer) opt.maxBuffer = 200 * 1024; // Default buffer value for child_process.exec

  var cmd = 'git status ' + opt.args;
  return exec(cmd, {cwd : opt.cwd, maxBuffer: opt.maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err, stderr);
    if (!opt.quiet) gutil.log(cmd + '\n' + stdout, stderr);
    if (cb) cb(err, stdout);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

gulp.task('updateSubmodules', function(){
git.updateSubmodule({ args: '--init' });
});

// Working tree status
gulp.task('status', function(){
git.<span class="apidocCodeKeywordSpan">status</span>({args: '--porcelain'}, function (err, stdout) {
  if (err) throw err;
});
});

// Other actions that do not require a Vinyl
gulp.task('log', function(){
git.exec({args : 'log --follow index.js'}, function (err, stdout) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.tag" id="apidoc.element.gulp-git.tag">
        function <span class="apidocSignatureSpan">gulp-git.</span>tag
        <span class="apidocSignatureSpan">(version, message, opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tag = function (version, message, opt, cb) {
  if (!cb &amp;&amp; typeof opt === 'function') {
    // optional options
    cb = opt;
    opt = {};
  }
  if (!cb &amp;&amp; typeof version === 'function') {
    cb = version;
    version = '';
    message = '';
  }
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!message) opt.lightWeight = true; else message = escape([message]);
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var signedarg = opt.signed ? ' -s ' : ' -a ';

  var cmd = 'git tag';
  if (version !== '') {
    if (!opt.lightWeight) {
      cmd += ' ' + signedarg + ' -m ' + message + ' ';
    }
    cmd += opt.args + ' ' + escape([version]);
  }
  var templ = gutil.template(cmd, {file: message});
  return exec(templ, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err) return cb(err);
    if (!opt.quiet &amp;&amp; version !== '') gutil.log(stdout, stderr);
    if (version === '') {
      stdout = stdout.split('\n');
    }
    return cb(null, stdout);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
git.clone('https://github.com/stevelacy/git-test', {args: './sub/folder'}, function(err) {
  // handle err
});
});

// Tag the repo with a version
gulp.task('tag', function(){
git.<span class="apidocCodeKeywordSpan">tag</span>('v1.1.1', 'Version message', function (err) {
  if (err) throw err;
});
});

// Tag the repo with a version and empty message
gulp.task('tag', function(){
git.tag('v1.1.1', '', function (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gulp-git.updateSubmodule" id="apidoc.element.gulp-git.updateSubmodule">
        function <span class="apidocSignatureSpan">gulp-git.</span>updateSubmodule
        <span class="apidocSignatureSpan">(opt, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateSubmodule = function (opt, cb) {
  if (!cb || typeof cb !== 'function') cb = function () {};
  if (!opt) opt = {};
  if (!opt.cwd) opt.cwd = process.cwd();
  if (!opt.args) opt.args = ' ';

  var maxBuffer = opt.maxBuffer || 200 * 1024;

  var cmd = 'git submodule update ' + opt.args;
  return exec(cmd, {cwd: opt.cwd, maxBuffer: maxBuffer}, function(err, stdout, stderr) {
    if (err &amp;&amp; cb) cb(err);
    if (!opt.quiet) gutil.log(stdout, stderr);
    if (cb) cb();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

gulp.task('addSubmodule', function(){
git.addSubmodule('https://github.com/stevelacy/git-test', 'git-test', { args: '-b master'});
});

gulp.task('updateSubmodules', function(){
git.<span class="apidocCodeKeywordSpan">updateSubmodule</span>({ args: '--init' });
});

// Working tree status
gulp.task('status', function(){
git.status({args: '--porcelain'}, function (err, stdout) {
  if (err) throw err;
});
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>